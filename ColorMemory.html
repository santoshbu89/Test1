<!DOCTYPE html>
<html>
<head>
	<title></title>

	<script type="text/javascript" src="angular.min.js"></script>

	<script type="text/javascript">

		 var app= angular.module('colorApp', []);
		  app.controller('cardCtrl', ['$scope', function ($scope) {

		  	var cardArr=[[1,2,3,4],[5,6,7,8],[1,2,3,4],[5,6,7,8]];

		  	$scope.i1='Images/card_bg.gif';
		  	$scope.i2='Images/card_bg.gif';
			$scope.i3='Images/card_bg.gif';
			$scope.i4='Images/card_bg.gif';
			$scope.i5='Images/card_bg.gif';
		  	$scope.i6='Images/card_bg.gif';
			$scope.i7='Images/card_bg.gif';
			$scope.i8='Images/card_bg.gif';
			$scope.i9='Images/card_bg.gif';
		  	$scope.i10='Images/card_bg.gif';
			$scope.i11='Images/card_bg.gif';
			$scope.i12='Images/card_bg.gif';
			$scope.i13='Images/card_bg.gif';
		  	$scope.i14='Images/card_bg.gif';
			$scope.i15='Images/card_bg.gif';
			$scope.i16='Images/card_bg.gif';

			$scope.points=0;

			var color1=null;
		 	var color2=null;
		 	var points=0;
		 	var matchedCard1=null;
		 	var matchedCard2=null;

		 	$scope.cardClick=function(i,row,col){

		 		var ind=i;
		 		
		 		var color='Images/colour'+cardArr[row][col]+'.gif';

		 		
		 		if(color1==null)
		 			color1=cardArr[row][col]; 
		 		else
		 			color2=cardArr[row][col]; 


		 		switch(i)
		 		{
		 			case 'i1':
		 				$scope.i1=color;
		 				//matchedCard1=i;
		 				break;

		 			case 'i2':
		 				$scope.i2=color;
		 				break;

		 			case 'i3':
		 				$scope.i3=color;
		 				break;

		 			case 'i4':
		 				$scope.i4=color;
		 				break;

		 			case 'i5':
		 				$scope.i5=color;
		 				break;

		 			case 'i6':
		 				$scope.i6=color;
		 				break;

		 			case 'i7':
		 				$scope.i7=color;
		 				break;

		 			case 'i8':
		 				$scope.i8=color;
		 				break;

		 			case 'i9':
		 				$scope.i9=color;
		 				break;

		 			case 'i10':
		 				$scope.i10=color;
		 				break;

		 			case 'i11':
		 				$scope.i11=color;
		 				break;

		 			case 'i12':
		 				$scope.i12=color;
		 				break;

		 			case 'i13':
		 				$scope.i13=color;
		 				break;

		 			case 'i14':
		 				$scope.i14=color;
		 				break;

		 			case 'i15':
		 				$scope.i15=color;
		 				break;

		 			case 'i16':
		 				$scope.i16=color;
		 				break;
		 		}


		 		if(color1!=null && color2!=null)
		 		{

			 		if(color1==color2)
			 		{
			 			alert('Matched!');
			 			color1=color2=null;
			 			$scope.points+=1;
			 			ShuffleCards(cardArr);
			 		}
			 		else
			 		{
			 			alert('Try Again!');
			 			color1=color2=null;
			 			$scope.points-=1;

			 			//switch(color1)

			 			ShuffleCards(cardArr);
			 		}
		 		}
		 	};
		 }]);

		
		function ShuffleCards(myArray) {
            var i = myArray.length, j, tempi, tempj;
            if (i === 0) return false;
            while (--i) {
                j = Math.floor(Math.random() * (i + 1));
                tempi = myArray[i];
                tempj = myArray[j];
                myArray[i] = tempj;
                myArray[j] = tempi;
            }
        }

	</script>

</head>
<body ng-app="colorApp">
<div ng-controller="cardCtrl">
	<table border="1">
		<tr>
			<td ng-click="cardClick('i1',0,0)"><img ng-src="{{i1}}"></td>
			<td ng-click="cardClick('i2',0,1)"><img ng-src="{{i2}}"></td>
			<td ng-click="cardClick('i3',0,2)"><img ng-src="{{i3}}"></td>
			<td ng-click="cardClick('i4',0,3)"><img ng-src="{{i4}}"></td>
		</tr>
		<tr>
			<td ng-click="cardClick('i5',1,0)"><img ng-src="{{i5}}"></td>
			<td ng-click="cardClick('i6',1,1)"><img ng-src="{{i6}}"></td>
			<td ng-click="cardClick('i7',1,2)"><img ng-src="{{i7}}"></td>
			<td ng-click="cardClick('i8',1,3)"><img ng-src="{{i8}}"></td>
		</tr>
		<tr>
			<td ng-click="cardClick('i9',2,0)"><img ng-src="{{i9}}"></td>
			<td ng-click="cardClick('i10',2,1)"><img ng-src="{{i10}}"></td>
			<td ng-click="cardClick('i11',2,2)"><img ng-src="{{i11}}"></td>
			<td ng-click="cardClick('i12',2,3)"><img ng-src="{{i12}}"></td>
		</tr>
		<tr>
			<td ng-click="cardClick('i13',3,0)"><img ng-src="{{i13}}"></td>
			<td ng-click="cardClick('i14',3,1)"><img ng-src="{{i14}}"></td>
			<td ng-click="cardClick('i15',3,2)"><img ng-src="{{i15}}"></td>
			<td ng-click="cardClick('i16',3,3)"><img ng-src="{{i16}}"></td>
		</tr>
	</table>

	<p>Points: {{points}} </p>

</div>
</body>
</html>